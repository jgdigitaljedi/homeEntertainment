<div layout-padding layout="row" class="library-container" ng-cloak flex>
	<md-content layout-fill>
		<md-tabs md-dynamic-height md-border-bottom md-stretch-tabs="always">
			<md-tab label="search" ng-click="lc.currentTab = 'search'; lc.currentActivity = 'search'; lc.consoleData()">
				<md-content class="search-library md-padding">
				</md-content>
			</md-tab>
			<md-tab label="consoles" ng-click="lc.currentTab = 'con'; radios = 'add,init'; lc.currentActivity = 'add'; lc.consoleData()">
				<md-content class="consoles-library md-padding">
					<md-subheader flex layout-align="space-around center">
						<md-radio-group ng-model="radios" flex layout="row" layout-xs="column" style="width: 100%;" ng-change="lc.changeAction(radios)">
							<md-radio-button value="add,init" flex="33">
								Add Console
							</md-radio-button>
							<md-radio-button value="edit,init" flex="33">
								Edit Console
							</md-radio-button>
							<md-radio-button value="delete,init" flex="33">
								Delete Console
							</md-radio-button>
						</md-radio-group>
					</md-subheader>
				</md-content>
			</md-tab>
			<md-tab label="games" ng-click="lc.currentTab = 'games'; radios = 'add,init'; lc.currentActivity = 'add'; lc.consoleData()">
				<md-content class="games-library md-padding">
					<md-subheader flex layout-align="space-around center">
						<md-radio-group ng-model="radios" flex layout="row" layout-xs="column" style="width: 100%;" ng-change="lc.changeAction(radios)">
							<md-radio-button value="add,init" value="add" flex="33">
								Add Game
							</md-radio-button>
							<md-radio-button value="edit,init" value="edit" flex="33">
								Edit Game
							</md-radio-button>
							<md-radio-button value="delete,init" value="delete" flex="33">
								Delete Game
							</md-radio-button>
						</md-radio-group>
					</md-subheader>
				</md-content>
			</md-tab>
		</md-tabs>
		<md-divider ng-show="lc.currentTab !== 'search'"></md-divider>
		<md-subheader ng-if="lc.currentActivity !== 'add'" layout="row" class="fadeIn">
			<md-input-container>
				<label> Search By: </label>
				<md-select ng-model="lc.whichSearch">
					<md-option ng-repeat="opts in lc.searchOptions[lc.currentTab]" ng-value="opts.key">
						{{opts.value}}
					</md-option>
				</md-select>
			</md-input-container>
			<md-input-container ng-if="lc.currentTab === 'search' && lc.whichSearch" style="margin-left: 20px;">
				<md-select ng-model="lc.extraSearch">
					<md-option ng-repeat="exOpts in lc.searchOptions[lc.whichSearch]" ng-value="exOpts.key">
						{{exOpts.value}}
					</md-option>
				</md-select>
			</md-input-container>
			<md-input-container class="l-search-container">
				<input ng-model="lc.searchParam" placeholder="Search" />
			</md-input-container>
			<md-button ng-click="lc.searchRequested()">
				<i class="fa fa-search"></i> &nbsp; Search
			</md-button>
		</md-subheader>
		<failed-auth class="failed-auth" ng-show="lc.failureMessage" failure-message=lc.failureMessage></failed-auth>
		<div ng-switch="lc.currentActivity" layout="row" layout-fill class="add-form">
			<form name="addForm" ng-switch-when="add" layout="row" layout-xs="column" layout-wrap ng-submit="lc.action[lc.currentActivity].submit(lc.addForm)">
				<div class="gb-area">
					<md-input-container class="fadeIn">
						<label> Giantbomb ID </label>
						<input ng-model="lc.addForm.gbId" ng-blur="lc.lookupGbInfo(lc.addForm.gbId)" ng-focus="lc.gbSearchResult = null" required />
					</md-input-container>
					<a href="http://www.giantbomb.com/" target="_blank"><i class="fa fa-question-circle" aria-hidden="true"></i></a>
				</div>
				<md-input-container ng-model="lc.addForm.whichConsole" ng-show="lc.currentTab === 'games'" class="fadeIn">
					<label for="whichConsole"> Which Console? </label>
					<input ng-model="lc.addForm.gameConsole" name="whichConsole" ng-required="lc.currentTab === 'games'" /> <!-- eventually will be a select with my current consoles -->
				</md-input-container>
				<md-input-container ng-if="lc.currentTab === 'games'" class="fadeIn">
					<md-checkbox ng-model="lc.addForm.onHd" ng-true-value="true" ng-false-value="false">
						On Hard Drive?
					</md-checkbox>
				</md-input-container>
				<md-input-container ng-if="lc.currentTab === 'games'" class="fadeIn">
					<md-checkbox ng-model="lc.addForm.hasCase" ng-true-value="true" ng-false-value="false">
						Has Original Case?
					</md-checkbox>
				</md-input-container>
				<md-input-container ng-if="lc.currentTab === 'games'" class="fadeIn">
					<md-checkbox ng-model="lc.addForm.burnedCopy" ng-true-value="true" ng-false-value="false">
						Burned Copy?
					</md-checkbox>
				</md-input-container>
				<md-input-container ng-if="lc.currentTab === 'con'" class="fadeIn">
					<md-checkbox ng-model="lc.addForm.burnedGames" ng-true-value="true" ng-false-value="false">
						Plays Burned Copies?
					</md-checkbox>
				</md-input-container>
				<md-input-container ng-if="lc.currentTab === 'con'" class="fadeIn">
					<md-checkbox ng-model="lc.addForm.hasHd" ng-true-value="true" ng-false-value="false">
						Has Hard Drive?
					</md-checkbox>
				</md-input-container>
				<md-input-container ng-if="lc.currentTab === 'con'" class="fadeIn">
					<label> Port Number: </label>
					<md-select ng-model="lc.addForm.portNumber" class="port-select">
						<md-option ng-repeat="portNumber in lc.portOptions">
							{{portNumber}}
						</md-option>
					</md-checkbox>
				</md-input-container>
				<md-input-container ng-if="lc.currentTab === 'con'" class="fadeIn">
					<label> Notes (; delimited) </label>
					<input ng-model="lc.addForm.conNotes" />
				</md-input-container>
				<md-input-container ng-if="lc.currentTab === 'con'" class="fadeIn">
					<label for="controllers"> Controllers (; delimited) </label>
					<input ng-model="lc.addForm.controllers" name="controllers" ng-required="lc.currentTab === 'con'" />
				</md-input-container>
				<md-input-container ng-if="lc.currentTab === 'con'" class="fadeIn">
					<label> Accessories (; delimited) </label>
					<input ng-model="lc.addForm.accessories" />
				</md-input-container>
				<md-input-container ng-if="lc.currentTab === 'con'" class="fadeIn">
					<label> Memory Cards (; delimited) </label>
					<input ng-model="lc.addForm.memoryCards" />
				</md-input-container>
				<md-input-container ng-if="lc.currentTab === 'con'" class="fadeIn">
					<label> Mods (; delimited) </label>
					<input ng-model="lc.addForm.mods" />
				</md-input-container>
				<md-input-container ng-if="lc.currentTab === 'con'" class="fadeIn">
					<label for="avOut"> AV Out Method </label>
					<input ng-model="lc.addForm.avOut" name="avOut" ng-required="lc.currentTab === 'con'" />
				</md-input-container>
				<md-button ng-if="lc.currentTab === 'con'" ng-click="lc.openInstructionsDialog()" ng-style="{'color': lc.insDone.color}" class="fadeIn">
					<i class="fa fa-list-ol" aria-hidden="true"></i> &nbsp; Instructions &nbsp; &nbsp; <i ng-class="lc.insDone.icon"></i>
				</md-button>
				<div ng-if="lc.currentTab === 'con'" id="console-logo-upload" class="image-upload">
					<input type="file" name="consoleLogo" id="consoleLogo" 
						onchange="angular.element(this).scope().uploadImage.logo(this.files)" 
						ng-class="lc.imageMissing.logo ? 'placeholder-red' : 'placeholder-green'" ng-model="lc.doesntMatter" class="file-input" />
					<label for="consoleLogo" class="logo-text"> <i class="fa fa-upload" aria-hidden="true"></i> &nbsp; Upload Logo </label>
				</div>
				<div ng-if="lc.currentTab === 'con'" id="load-game-image" class="image-upload">
					<input type="file" name="loadGame" id="loadGame" 
						onchange="angular.element(this).scope().uploadImage.load(this.files)" 
						ng-class="lc.imageMissing.load ? 'placeholder-red' : 'placeholder-green'" ng-model="lc.doesntMatter" class="file-input" />
					<label for="loadGame" class="logo-text"> 
						<i class="fa fa-upload" aria-hidden="true"></i> &nbsp; Load Game Image 
					</label>
				</div>
				<div ng-if="lc.currentTab === 'con'" id="power-image" class="image-upload">
					<input type="file" name="powerButton" id="powerButton" 
						onchange="angular.element(this).scope().uploadImage.power(this.files)" 
						ng-class="lc.imageMissing.power ? 'placeholder-red' : 'placeholder-green'" ng-model="lc.doesntMatter" class="file-input" />
					<label for="powerButton" class="logo-text"> 
						<i class="fa fa-upload" aria-hidden="true"></i> &nbsp; Power Button Image 
					</label>
				</div>
				<!-- <md-button ng-click="lc.action[lc.currentActivity].submit(lc.addForm)" class="md-raised"> -->
				<md-button class="md-raised md-accent submit-button" type="submit">
					<i class="fa fa-paper-plane" aria-hidden="true"></i> &nbsp; Save
				</md-button>
			</form>
			<form name="editForm" ng-switch-when="edit" layout="row" layout-xs="column" layout-wrap>

			</form>
			<div ng-switch-when="delete">

			</div>
		</div>
		<md-divider style="margin-tio: 20px;" ng-if="lc.currentActivity === 'add' && lc.gbSearchResult"></md-divider>
		<div class="giantbomb-results" ng-if="lc.currentActivity === 'add' && lc.gbSearchResult">
			<div ng-switch="lc.currentTab">
				<div layout="row" flex>
					<div flex="50">
						<div>
							<div><label>Name: </label><span>{{lc.gbSearchResult.name}}</span></div><br />
							<div><label>Description: </label><span>{{lc.gbSearchResult.deck}}</span></div><br />
							<div>
								<label>Original Release Date: </label>
								<span ng-switch-when="games">{{lc.gbSearchResult.original_release_date}}</span>
								<span ng-switch-when="con">{{lc.gbSearchResult.release_date}}</span>
							</div><br />
						</div>
					</div>
					<div flex="50" layout-align="space-between start">
						<img ng-src="{{lc.gbSearchResult.image.medium_url}}" style="max-width: 90%; max-height: 550px; margin-left: 45px;" />
					</div>
				</div>
			</div> 
		</div>
	</md-content>
</div>